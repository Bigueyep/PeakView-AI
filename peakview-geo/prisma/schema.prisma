generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id           String    @id @default(uuid())
  email        String    @unique
  passwordHash String
  createdAt    DateTime  @default(now())
  plan         Plan?
  requests     Request[]
}

model Request {
  id          String     @id @default(uuid())
  userId      String
  companyName String
  websiteUrl  String
  keywords    String
  createdAt   DateTime   @default(now())
  geoScore    Int?
  aiMention   Boolean?
  sentiment   Sentiment?
  trafficData Json?
  competitor  Json?
  user        User       @relation(fields: [userId], references: [id])
}

enum Sentiment {
  POSITIVE
  NEUTRAL
  NEGATIVE
}

enum Plan {
  STARTER
  PRO
  ENTERPRISE
}
